/*
酷狗概念版每日自动领取VIP-Eric专属
*/
var _0xodL='jsjiami.cn.v7';const _0x3f5ec3=_0x2461;function _0x2461(_0x24be84,_0x49fd2a){const _0x50dd57=_0x1e0b();return _0x2461=function(_0x1b38d1,_0x55f61f){_0x1b38d1=_0x1b38d1-0x16a;let _0x1e0b9a=_0x50dd57[_0x1b38d1];if(_0x2461['AHLVUb']===undefined){var _0x2461a3=function(_0x238586){const _0x27cb13='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x25cd34='',_0x25b8de='',_0x230e62=_0x25cd34+_0x2461a3;for(let _0x1d7159=0x0,_0x551446,_0x55d8ea,_0x3feec2=0x0;_0x55d8ea=_0x238586['charAt'](_0x3feec2++);~_0x55d8ea&&(_0x551446=_0x1d7159%0x4?_0x551446*0x40+_0x55d8ea:_0x55d8ea,_0x1d7159++%0x4)?_0x25cd34+=_0x230e62['charCodeAt'](_0x3feec2+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x551446>>(-0x2*_0x1d7159&0x6)):_0x1d7159:0x0){_0x55d8ea=_0x27cb13['indexOf'](_0x55d8ea);}for(let _0x3ff53e=0x0,_0x4ef6cd=_0x25cd34['length'];_0x3ff53e<_0x4ef6cd;_0x3ff53e++){_0x25b8de+='%'+('00'+_0x25cd34['charCodeAt'](_0x3ff53e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x25b8de);};const _0x407586=function(_0x4226bc,_0x32e339){let _0x358c39=[],_0x3270fb=0x0,_0x11dcc,_0x1be7d9='';_0x4226bc=_0x2461a3(_0x4226bc);let _0x4a1087;for(_0x4a1087=0x0;_0x4a1087<0x100;_0x4a1087++){_0x358c39[_0x4a1087]=_0x4a1087;}for(_0x4a1087=0x0;_0x4a1087<0x100;_0x4a1087++){_0x3270fb=(_0x3270fb+_0x358c39[_0x4a1087]+_0x32e339['charCodeAt'](_0x4a1087%_0x32e339['length']))%0x100,_0x11dcc=_0x358c39[_0x4a1087],_0x358c39[_0x4a1087]=_0x358c39[_0x3270fb],_0x358c39[_0x3270fb]=_0x11dcc;}_0x4a1087=0x0,_0x3270fb=0x0;for(let _0x25d6fa=0x0;_0x25d6fa<_0x4226bc['length'];_0x25d6fa++){_0x4a1087=(_0x4a1087+0x1)%0x100,_0x3270fb=(_0x3270fb+_0x358c39[_0x4a1087])%0x100,_0x11dcc=_0x358c39[_0x4a1087],_0x358c39[_0x4a1087]=_0x358c39[_0x3270fb],_0x358c39[_0x3270fb]=_0x11dcc,_0x1be7d9+=String['fromCharCode'](_0x4226bc['charCodeAt'](_0x25d6fa)^_0x358c39[(_0x358c39[_0x4a1087]+_0x358c39[_0x3270fb])%0x100]);}return _0x1be7d9;};_0x2461['dIcYnc']=_0x407586,_0x24be84=arguments,_0x2461['AHLVUb']=!![];}const _0x27c5fa=_0x50dd57[0x0],_0x58a857=_0x1b38d1+_0x27c5fa,_0x1004ec=_0x24be84[_0x58a857];if(!_0x1004ec){if(_0x2461['wIIDYg']===undefined){const _0x488435=function(_0x3e5f84){this['SLfiRT']=_0x3e5f84,this['cKjaGd']=[0x1,0x0,0x0],this['QSzhfW']=function(){return'newState';},this['HnWmco']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sEqFmA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x488435['prototype']['hjdnAl']=function(){const _0x31616f=new RegExp(this['HnWmco']+this['sEqFmA']),_0x4174dc=_0x31616f['test'](this['QSzhfW']['toString']())?--this['cKjaGd'][0x1]:--this['cKjaGd'][0x0];return this['vPlqEb'](_0x4174dc);},_0x488435['prototype']['vPlqEb']=function(_0x17bcde){if(!Boolean(~_0x17bcde))return _0x17bcde;return this['PRkWGf'](this['SLfiRT']);},_0x488435['prototype']['PRkWGf']=function(_0x6107b){for(let _0x1bff51=0x0,_0x7a4790=this['cKjaGd']['length'];_0x1bff51<_0x7a4790;_0x1bff51++){this['cKjaGd']['push'](Math['round'](Math['random']())),_0x7a4790=this['cKjaGd']['length'];}return _0x6107b(this['cKjaGd'][0x0]);},new _0x488435(_0x2461)['hjdnAl'](),_0x2461['wIIDYg']=!![];}_0x1e0b9a=_0x2461['dIcYnc'](_0x1e0b9a,_0x55f61f),_0x24be84[_0x58a857]=_0x1e0b9a;}else _0x1e0b9a=_0x1004ec;return _0x1e0b9a;},_0x2461(_0x24be84,_0x49fd2a);}(function(_0x3e474d,_0x1969a6,_0x18b26f,_0x1b9fc9,_0x3f7461,_0x456ba8,_0x53bd29){return _0x3e474d=_0x3e474d>>0x1,_0x456ba8='hs',_0x53bd29='hs',function(_0x1b615d,_0x2b9c48,_0x2b04f8,_0x4eb25f,_0x4c460a){const _0x38f63b=_0x2461;_0x4eb25f='tfi',_0x456ba8=_0x4eb25f+_0x456ba8,_0x4c460a='up',_0x53bd29+=_0x4c460a,_0x456ba8=_0x2b04f8(_0x456ba8),_0x53bd29=_0x2b04f8(_0x53bd29),_0x2b04f8=0x0;const _0x6cf501=_0x1b615d();while(!![]&&--_0x1b9fc9+_0x2b9c48){try{_0x4eb25f=-parseInt(_0x38f63b(0x1de,'k]l3'))/0x1*(-parseInt(_0x38f63b(0x1a9,'q6C5'))/0x2)+parseInt(_0x38f63b(0x1eb,'JMxB'))/0x3*(parseInt(_0x38f63b(0x1d9,'(n!L'))/0x4)+parseInt(_0x38f63b(0x1ba,'etFB'))/0x5*(-parseInt(_0x38f63b(0x1d5,'&0EE'))/0x6)+-parseInt(_0x38f63b(0x181,'zE)O'))/0x7+parseInt(_0x38f63b(0x1bb,'rwwH'))/0x8+-parseInt(_0x38f63b(0x178,'8lFc'))/0x9+-parseInt(_0x38f63b(0x1b6,'etFB'))/0xa;}catch(_0x456573){_0x4eb25f=_0x2b04f8;}finally{_0x4c460a=_0x6cf501[_0x456ba8]();if(_0x3e474d<=_0x1b9fc9)_0x2b04f8?_0x3f7461?_0x4eb25f=_0x4c460a:_0x3f7461=_0x4c460a:_0x2b04f8=_0x4c460a;else{if(_0x2b04f8==_0x3f7461['replace'](/[qOMWJeGAPrVLQBtlCofh=]/g,'')){if(_0x4eb25f===_0x2b9c48){_0x6cf501['un'+_0x456ba8](_0x4c460a);break;}_0x6cf501[_0x53bd29](_0x4c460a);}}}}}(_0x18b26f,_0x1969a6,function(_0x4210dd,_0x51405e,_0x2a1283,_0x1bbfe2,_0x1294b1,_0x51ae45,_0x1d9119){return _0x51405e='\x73\x70\x6c\x69\x74',_0x4210dd=arguments[0x0],_0x4210dd=_0x4210dd[_0x51405e](''),_0x2a1283=`\x72\x65\x76\x65\x72\x73\x65`,_0x4210dd=_0x4210dd[_0x2a1283]('\x76'),_0x1bbfe2=`\x6a\x6f\x69\x6e`,(0x17effc,_0x4210dd[_0x1bbfe2](''));});}(0x17c,0xd8a25,_0x1e0b,0xc0),_0x1e0b)&&(_0xodL=_0x1e0b);const _0x5df127=new Env(_0x3f5ec3(0x1e2,'&Xgy'));if($request[_0x3f5ec3(0x1ca,'(n!L')]){let _0x41793c=$request[_0x3f5ec3(0x1af,'jxiO')],_0x1f6bb5=$request[_0x3f5ec3(0x1ac,'fTgo')],_0x187341=new URLSearchParams(_0x41793c[_0x3f5ec3(0x1c1,'(92n')]('?')[0x1]),_0x229e0b={'appid':_0x187341[_0x3f5ec3(0x1b9,'q6C5')](_0x3f5ec3(0x1ae,'k]l3')),'clientver':_0x187341[_0x3f5ec3(0x1a3,'(n!L')](_0x3f5ec3(0x17e,')Up)')),'clienttime':_0x187341[_0x3f5ec3(0x170,'8mFC')](_0x3f5ec3(0x16d,'k]l3')),'mid':_0x187341[_0x3f5ec3(0x1cb,'XRpi')](_0x3f5ec3(0x1ad,'&0EE')),'uuid':_0x187341[_0x3f5ec3(0x185,'0]6)')](_0x3f5ec3(0x18a,'dSt3')),'dfid':_0x187341[_0x3f5ec3(0x182,'7R5)')](_0x3f5ec3(0x1e5,'iZOM')),'token':_0x187341[_0x3f5ec3(0x185,'0]6)')](_0x3f5ec3(0x1c3,'rwwH')),'userid':_0x187341[_0x3f5ec3(0x188,'9]OE')](_0x3f5ec3(0x1aa,'zE)O')),'srcappid':_0x187341[_0x3f5ec3(0x1b9,'q6C5')](_0x3f5ec3(0x1d7,'rwwH')),'signature':_0x187341[_0x3f5ec3(0x1c8,'dSt3')](_0x3f5ec3(0x176,'7R5)'))},_0x5e3085={':authority':_0x1f6bb5[_0x3f5ec3(0x1a1,'lZz6')],'content-type':_0x1f6bb5[_0x3f5ec3(0x1c2,'etFB')],'kg-rf':_0x1f6bb5[_0x3f5ec3(0x184,'COea')],'accept':_0x1f6bb5[_0x3f5ec3(0x18e,'(n!L')],'kg-thash':_0x1f6bb5[_0x3f5ec3(0x17c,'V!V!')],'accept-language':_0x1f6bb5[_0x3f5ec3(0x1dd,'XRpi')],'accept-encoding':_0x1f6bb5[_0x3f5ec3(0x1cc,'7R5)')],'kg-rec':_0x1f6bb5[_0x3f5ec3(0x1bc,'dlJ3')],'user-agent':_0x1f6bb5[_0x3f5ec3(0x19d,'XRpi')],'kg-rc':_0x1f6bb5[_0x3f5ec3(0x1be,'rwwH')],'kg-fake':_0x1f6bb5[_0x3f5ec3(0x1ee,'YdVR')],'content-length':_0x1f6bb5[_0x3f5ec3(0x1cf,'COea')],'uni-useragent':_0x1f6bb5[_0x3f5ec3(0x19f,'fTgo')]};function _0x440cb7(_0x5ab914,_0x363842){const _0x5620c2=_0x3f5ec3,_0x21de8c={'nCoIN':function(_0x405091,_0x13332c){return _0x405091!==_0x13332c;},'PDYPj':_0x5620c2(0x180,'jxiO'),'TdgOG':function(_0x49ab54,_0x2b0e20){return _0x49ab54===_0x2b0e20;},'GlNzP':_0x5620c2(0x190,'dSt3'),'dBznz':_0x5620c2(0x19e,'dSt3'),'yQZYd':function(_0x43e0ee,_0x4d5e7e){return _0x43e0ee!==_0x4d5e7e;},'hRxEV':_0x5620c2(0x16b,'297G'),'dVaLx':_0x5620c2(0x1e1,'9aqN'),'KqytP':function(_0x408572,_0x5d8018,_0x21de54){return _0x408572(_0x5d8018,_0x21de54);},'rrvTC':function(_0x102c1c){return _0x102c1c();},'vyYJX':function(_0x15b471,_0x231b28){return _0x15b471===_0x231b28;},'AXDzL':_0x5620c2(0x1c0,'lZz6')},_0x13ca50=(function(){const _0x500ddb=_0x5620c2,_0x556fbd={'BnUCX':function(_0x1d09a3,_0x110273){const _0x24bed5=_0x2461;return _0x21de8c[_0x24bed5(0x1a8,'JOi@')](_0x1d09a3,_0x110273);},'MbVVP':_0x21de8c[_0x500ddb(0x1e9,'rwwH')],'wkAFA':function(_0x3d24bd,_0x483f94){const _0x248b0f=_0x500ddb;return _0x21de8c[_0x248b0f(0x1b0,'7R5)')](_0x3d24bd,_0x483f94);},'XovcD':_0x21de8c[_0x500ddb(0x1a5,'Nss6')],'zfvOl':_0x21de8c[_0x500ddb(0x187,'fTgo')]};let _0x11c474=!![];return function(_0x35986e,_0x3c5aa4){const _0x1df9bd=_0x500ddb,_0x34bd49={'FXJxP':_0x556fbd[_0x1df9bd(0x1e7,'XRpi')]},_0x4436dc=_0x11c474?function(){const _0x2f40ef=_0x1df9bd;if(_0x556fbd[_0x2f40ef(0x177,'V!V!')](_0x556fbd[_0x2f40ef(0x1e4,'(n!L')],_0x556fbd[_0x2f40ef(0x196,'Iutq')])){const _0x22424=_0x3feec2?function(){const _0x4981df=_0x2f40ef;if(_0x3270fb){const _0xf4d529=_0x25d6fa[_0x4981df(0x193,'&Xgy')](_0x488435,arguments);return _0x3e5f84=null,_0xf4d529;}}:function(){};return _0x358c39=![],_0x22424;}else{if(_0x3c5aa4){if(_0x556fbd[_0x2f40ef(0x1b7,'S2tz')](_0x556fbd[_0x2f40ef(0x1ec,'^zil')],_0x556fbd[_0x2f40ef(0x16e,'L9nX')])){const _0x2f6c0d=_0x3c5aa4[_0x2f40ef(0x198,'Iutq')](_0x35986e,arguments);return _0x3c5aa4=null,_0x2f6c0d;}else return _0x2b31ac[_0x2f40ef(0x1cd,'8mFC')]()[_0x2f40ef(0x1a7,'^zil')](KtLkjP[_0x2f40ef(0x1db,'XRpi')])[_0x2f40ef(0x1e8,'etFB')]()[_0x2f40ef(0x1dc,'9]OE')](_0x209e7d)[_0x2f40ef(0x1b4,']([[')](KtLkjP[_0x2f40ef(0x1b3,'6Q8T')]);}}}:function(){};return _0x11c474=![],_0x4436dc;};}()),_0x5cd92f=_0x21de8c[_0x5620c2(0x1c4,'8lFc')](_0x13ca50,this,function(){const _0x2da88c=_0x5620c2;if(_0x21de8c[_0x2da88c(0x191,'k]l3')](_0x21de8c[_0x2da88c(0x18c,'6Q8T')],_0x21de8c[_0x2da88c(0x174,'dSt3')]))return _0x5cd92f[_0x2da88c(0x1ce,'zLzR')]()[_0x2da88c(0x1c5,'^OnE')](_0x21de8c[_0x2da88c(0x186,'0]6)')])[_0x2da88c(0x1df,'8lFc')]()[_0x2da88c(0x1ed,'rwwH')](_0x5cd92f)[_0x2da88c(0x1bf,'zLzR')](_0x21de8c[_0x2da88c(0x17f,'zLzR')]);else _0x31c81e[_0x2da88c(0x1b1,'L9nX')][_0x2da88c(0x1d3,'S2tz')](_0xe4fa72[_0x2da88c(0x1ab,'oKIf')](_0x42e266),_0x2835e3);});_0x21de8c[_0x5620c2(0x1e6,'iZOM')](_0x5cd92f);if(_0x5df127[_0x5620c2(0x1ea,'yN7%')])_0x21de8c[_0x5620c2(0x199,'MG3A')](_0x21de8c[_0x5620c2(0x17a,'jxiO')],_0x21de8c[_0x5620c2(0x1da,']([[')])?_0x5df127[_0x5620c2(0x179,'297G')][_0x5620c2(0x1b5,'MG3A')](JSON[_0x5620c2(0x19b,'&0EE')](_0x363842),_0x5ab914):_0x4b7024[_0x5620c2(0x171,'4E90')][_0x5620c2(0x1a2,'L9nX')](_0x1a84ee[_0x5620c2(0x1a4,'zLzR')](_0x2e4d37),_0x18f5d8);else{if(_0x5df127[_0x5620c2(0x16a,'0]6)')])_0x5df127[_0x5620c2(0x1a0,'dlJ3')][_0x5620c2(0x17d,'(n!L')](JSON[_0x5620c2(0x1d4,'8lFc')](_0x363842),_0x5ab914);else _0x5df127[_0x5620c2(0x192,'JOi@')]&&_0x5df127[_0x5620c2(0x1c9,'oKIf')][_0x5620c2(0x1c7,'0]6)')](_0x5ab914,JSON[_0x5620c2(0x197,')Up)')](_0x363842));}}_0x440cb7(_0x3f5ec3(0x1d6,'YdVR'),_0x229e0b),_0x440cb7(_0x3f5ec3(0x16f,'&Xgy'),_0x5e3085),_0x440cb7(_0x3f5ec3(0x16c,'4E90'),_0x41793c),_0x5df127[_0x3f5ec3(0x1bd,'6Q8T')](_0x3f5ec3(0x1d1,'8mFC'),JSON[_0x3f5ec3(0x194,'9]OE')](_0x229e0b)),_0x5df127[_0x3f5ec3(0x18d,'jxiO')](_0x3f5ec3(0x189,'dlJ3'),JSON[_0x3f5ec3(0x1b8,'4E90')](_0x5e3085)),_0x5df127[_0x3f5ec3(0x1b2,'L*HG')](_0x3f5ec3(0x1a6,'7R5)'),_0x41793c),_0x5df127[_0x3f5ec3(0x1d0,'q6C5')](_0x3f5ec3(0x19a,'MG3A')),_0x5df127[_0x3f5ec3(0x1c6,'zE)O')](_0x3f5ec3(0x172,'rwwH'),_0x3f5ec3(0x18b,'yN7%'),''),_0x5df127[_0x3f5ec3(0x19c,'Iutq')]();}function _0x1e0b(){const _0x54a1d6=(function(){return[...[_0xodL,'lLWjsMljViJOaCmPieh.OcGQnLq.Av7BfWQotrW==','W68GB31iWR/dPCoPW4G6W4jLWPGSW4C','wGRcJfq8','ESkaW4RcOmoaW58fg8oBWRhdQgtcVvK','WPNcNCkMmdlcIZZcKa','o8kbW7nIW7dcMSk6W4RcUdNdGLddMSkL','WRFcHHGnWRlcM2rHga','oSkhpSksla','ssRcUuyw','WQrjW6z6WRiOWO1bW73cQCo0Cq','DmkKya','WQ7dTCoTW5tdJLNcIX7dVSohW45weSo5','BZ3dQSk9WQC','W5a8BW','W5mByCkrca','WOBcLveZpa','W4VdM8kD','5l+15AY355MvbSo1WOVcGCoBWRXkuhqieSozWQ1cua','WQZdQ3PB','5PwJ5O6u5Bsw5O2H5lQQ5y6Q5l2H5A6c','W7NcSSo+qqm','DZ3cRW','kCkhW6rrW6hcGG','BSkMWOuAo8khW6qHjuSiWPfM','WRddMufYW6O','rq3dG8o8WQe','d2vcaSo8WOldRCkgnN8','pCoGW4zgEW','W5/dISkBpgpcHmkTWO/dHW','W7HgWRRdGmo0WPjkW6OhW4FcVwG','vSolamohWRi','WQFcNGmbWRlcIhTIeW','ESozjSo9WPS','WRzTxmkLWOy','5PAW5O265BE35lYY5A6g5yIr5O2Q5lQe5y+x5A+b5ygulXtcTCkTnEs5Q+AbQoApKEs9HW','s17cTSkiWPJcNWhdVgu','F8ogomo0','W6RcTSk+WPFdKGhdLe/dGSo2','W7hcTJSrWOXGAmkNFCkoWPK8','WPFcUujWm8o5w2ddISosW7xcVga','wb3cTeddJG','j2ZcJmkXDh7cKSoBd8kC','WQRcJx8gW5uUWRTui8oCWPVdOv5o','l8kbW7m','lCkXnSkvoeVcMCk3ia','WP0pWP0zWOy','5l+o5A6z55QqWO11WPdcSglcICo2WQdcJmk3WOVdRmkTja','W6tcOSkzwmkqBW','eunFomoB','fmkjWP/dLZfXdW','W6ilWRy6W65+','WOFdGdqVWPWjn2pcLG','WORcSKO5i8o4tq','vupcOa','xsZdQComWQe','BIdcPa','r8kLC8oIFq','WQNcJxKJW50XWRPuc8ohWRRdNLrfW7i','W4ZdVXW','W5FcUmomFau','eSo2W6zKuCok','WRDMBmkBWRS','fG9HeLxdIaT2WQPwW5LEW7yX','WP3dKM7dOSkW','WQ1+WRvnpCkiECoaWP0','qCkRWR8','eGLLg1FcKfeTWQLIW6G'],...(function(){return['W5dcR8kwWOeaqxiQWQajW6xdMSoGCW','qWJdVftdMmkn','W73cJ8oH','WORdUmknW4js','lCkGjCkonuq','u37cK8kxBa','jepdHCo8W4e','rfi7xGlcKKzRWRDTW5Xm','WPxdSmolW5vF','WOagW7BcHSkr','m8k5ASoQd8kJ','W7OlWRq','W4q8B8k2bJe3','WR7dU2C','WOtdKtq1WPSDkMdcGrC','pCkwW6S','W7JcOmkV','CSkID8oisSkwW7rGWO7dU8kUWOtdVSkWW5K','mSkDWQz6WR1FbCkG','kSkQf8kijexcNSk2','zZxcQCk7WQtdISkhsLrjWRHaW7OJ','sSkHWQW','5l6B5A6Q55MXlSkAzcFdP8kPoSoiWRWeWPzR','mYdcLJiOpmkOWRtcO8kSDG','WP3dI0BdKmku','WRGdW73cM8kVW4DVW6SQ','cH7cVCklWQBcVa/dMq','FSohWOzdz8oou21s','WPldRCodW5fbccn6','WQdcLYldNmo6w1vR','FmoxWR4eWQNdGmo3W67cJqBdHLJdRG','imolW4nSFG','W5NcNCkrWP3cRW','W4/dKCkhjNNcKCkXWORdINpdVG','W77cPSk4WOdcJXtcNKBdJCoSW7PPa8oeyW','bw3cOmkrW7uAgYpcV0BcSa','WR8yW5ZcHSkZW4LOW6O','dHVdJCo3WQCXca','FSkgW40+W5C','6ysR54Mh5Qs05B+F54Mk6iwB5yM96Aos5y6cvtFcIdGnwW8S','WO5OiSolqI0lpKWHW7W','bCkgW5fIW4e','l8ouWPFdVa','oCoaWOJdJmkX','W6xcO8kTWQRcKW','u1igxHxcLvWH','WRhdM8o5W6bB','y8kFWPytWOBdJ8oiWR8xqr1JWQ1EWOi','nwxdTevvnSke','W4/cQmkosCk3','WOldSmooW4nfcJ99WOyJW4q','ymosW4D1z8oxvW','W4CRFSkzaq','W5ewsN5i','WRf4WQ5doSkbCCokWRf4WRO','xZddSmoaWQSxpJZcLLS','WOhcH30ZW7a','nmo1W5Doz8odWOu1jMitWQS','iCkxWOe','WQ54WQjcia','6i2w5y2j5PEq5O+E5OIH5yUN','W57cIHBcLmojW7FcSCkcW5jDDwlcOa','WR3dIhjZW58','W6RcMvKwW7KKWOe','ymkOC8odw8kwWQX3WOu','WRdcLmoEbWi','W7LbWRZdGSo4WPy3W7GIW6RcR0JdLq'];}())];}());_0x1e0b=function(){return _0x54a1d6;};return _0x1e0b();};
//
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,a)=>{s.call(this,t,(t,s,r)=>{t?a(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const a=this.getdata(t);if(a)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,a)=>e(a))})}runScript(t,e){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a?a.replace(/\n/g,"").trim():a;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[i,o]=a.split("@"),n={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":i,Accept:"*/*"},timeout:r};this.post(n,(t,e,a)=>s(a))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e);if(!s&&!a)return{};{const a=s?t:e;try{return JSON.parse(this.fs.readFileSync(a))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),a=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):a?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const a=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of a)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,a)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[a+1])>>0==+e[a+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,a,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,a,r]=/^@(.*?)\.(.*?)$/.exec(e),i=this.getval(a),o=a?"null"===i?null:i||"{}":"{}";try{const e=JSON.parse(o);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),a)}catch(e){const i={};this.lodash_set(i,r,t),s=this.setval(JSON.stringify(i),a)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:a,statusCode:r,headers:i,rawBody:o}=t,n=s.decode(o,this.encoding);e(null,{status:a,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:a,response:r}=t;e(a,r,r&&s.decode(r.rawBody,this.encoding))})}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,(t,s,a)=>{!t&&s&&(s.body=a,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,a)});break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:a,headers:r,body:i,bodyBytes:o}=t;e(null,{status:s,statusCode:a,headers:r,body:i,bodyBytes:o},i,o)},t=>e(t&&t.error||"UndefinedError"));break;case"Node.js":let a=require("iconv-lite");this.initGotEnv(t);const{url:r,...i}=t;this.got[s](r,i).then(t=>{const{statusCode:s,statusCode:r,headers:i,rawBody:o}=t,n=a.decode(o,this.encoding);e(null,{status:s,statusCode:r,headers:i,rawBody:o,body:n},n)},t=>{const{message:s,response:r}=t;e(s,r,r&&a.decode(r.rawBody,this.encoding))})}}time(t,e=null){const s=e?new Date(e):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t}queryStr(t){let e="";for(const s in t){let a=t[s];null!=a&&""!==a&&("object"==typeof a&&(a=JSON.stringify(a)),e+=`${s}=${a}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",a="",r){const i=t=>{switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{let e=t.url||t.openUrl||t["open-url"];return{url:e}}case"Loon":{let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}case"Quantumult X":{let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl,a=t["update-pasteboard"]||t.updatePasteboard;return{"open-url":e,"media-url":s,"update-pasteboard":a}}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,a,i(r));break;case"Quantumult X":$notify(e,s,a,i(r));break;case"Node.js":}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),a&&t.push(a),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t.stack)}}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}去

